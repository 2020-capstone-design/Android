# 01. 기초 사항

## 1. 안드로이드란?

### 1.1 안드로이드의 역사

<br/> 2005년 7월에 구글은 미국 캘리포니아주의 팔로알토에 위치한 작은 안드로이드사를 인수하였다. 안드로이드 사는 **앤디 루빈**이 세운 업체였는데, 구글에 인수된 후 구글에서 일하게 된다. 구글에서 앤드 루빈이 이끄는 팀은 리눅스 커널에 기반을 둔 모바일 장치 플렛폼을 개발한다.

 2007년 11월 5일에 구글, 인텔, LG전자, 삼성전자 등 몇명 회사로 구성된 컨소시엄인 오픈 핸드셋 얼라이언스(OHA)가 모바일 기기의 공개 표준을 개발하는 것을 목표로 결성되었다. 또한 OHA는 리눅스 커널 2.6에서 빌드된 그들의 첫 번째 모바일 기기 플랫폼 결과물인 안드로이드를 발표하였다.

> 이 컨소시엄이 지금까지 안드로이드의 최신 버전을 발표하고 있다.

 2008년 10월 21에 안드로이드가 오픈 소스로 선언되었다. 구글은 네트워크와 텔레폰 스택을 포함하는 완전한 소스 코드를 아파치 라이센스로 공개하였다.

 2008년 12월 9일에 ARM 홀딩스, 소프트뱅크, 소니 에릭슨 등 으로 구성된 새로운 14개의 멤버가 안드로이드 프로젝트에 참여하였다.

 2014년 10월 16일 안드로이드 5.0 버전 발표와 함께 기존의 달빅 가상 머신을 안드로이드 런타임으로 대체하였다.

<br/>

---

### 1.2 안드로이드의 특징

<br/>

- 애플리케이션 프레임워크 (Application framework)
  - 안드로이드는 컴포넌트(component)의 재사용을 가능하게 하는 애플리케이션 프레임워크를 갖는다.
  - 애플리케이션은 여러 개의 컴포넌트로 이루어지는데, 하나의 애플리케이션은 다른 애플리케이션의 컴포넌트를 사용할 수 있다.
  - 모바일 장치에서 컴포넌트의 재사용이 중요한 이유는 프로세서의 처리 속도나 메모리의 용량이 충분하지 않기 때문이다.

<br/>

- 자바 언어 사용
  - 안드로이드 애플리케이션은 자바로 작성된다.
  - 안드로이드 개발자들은 자바의 SE 버전 중에서 AWT 와 스윙(swing)을 제외한 거의 모든 패키지를 사용할 수 있다. 
  - 안드로이드에서는 자바를 지원하기 위하여 자체적인 가상 머신을 구현하였다. 
    - 자바의 표준 JVM을 사용하지 않는 이유는 스마트폰이 데스크탑에 비해 처리 속도와 메모리 측면에서 뒤쳐지기 때문이다.
    - 이러한 자체적인 가상 머신을 **ART 가상 머신**이라 부른다.
  - 한가지 주의할 점은, 안드로이드에서는 ART 가상 머신을 사용하므로 일반적인 자바의 클래스 파일에 들어 잇는 바이트 코드는 직접 실행이 불가능하다는 것이다.
    - 바이트 코드를 .dex 형식으로 변환해야 실행이 가능하다.

<br/>

- 최적화된 그래픽(Optimized graphics)
  -  2D 그래픽은 자체 2D 라이브러리에 의하여 제공되고 3D 그래픽은 OpenGL ES 2.0 규격에 기반을 두고 있다.

<br/>

- SQLite 데이터베이스 지원
  - 로컬 데이터 베이스로 SQLite를 지원한다.

<br/>

etc..



> 그렇다면 어떻게 코틀린과 자바 두 언어를 100% 호환이 가능한 것일까?
>
> - 코틀린은 개발 코드가 자바 클래스로 빌드되어 JVM에서 동작하기 때문에 호환이 가능하다.
> - 즉, 자바로 개발되던 프로그램을 코틀린 뿐만 아닌 JVM을 기반으로 하는 모든 언어로 개발할 수 있다.

---

### 1.3 안드로이드의 구조

<br/>

안드로이드는 단순히 운영체제만을 제공하는 것은 아니다. 안드로이드는 운영체제, 미들웨어, 핵심 애플리케이션을 모두 포함하는 모바일 플랫폼이라 할 수 있다. 구글에서는 안드로이드를 **소프트웨어 스택(software stack)이라 부른다. 즉 소프트웨어를 스택처럼 쌓아두었다는 의미이다.

<br/>

- 안드로이드 운영체제의 주요한 요소들

![5](/Users/jo-eun-yeob/Desktop/jisulim/android/1. 첫 번째 안드로이드 앱 만들기/images/5.png)

- System Apps 
  - 애플리케이션
- Java API Framework
  - 애플리케이션 프레임워크로서 API(Application Programming Interface)라고 한다.
- Native C/C++ Libraries
  - C와 C++로 작성된 라이브러리
- Android Runtime
  - 자바 앱 실행을 위한 안드로이드 런타임 환경
- Hardware Abstraction Layer (HAL)
  - 하드웨어 추상화 계층
- Linux Kernel
  - Android 플랫폼의 기반은 Linux 커널이다.
    - 예를 들어, ART(Android 런타임)는 스레딩 및 하위 수준의 메모리 관리와 같은 기본 기능에 Linux 커널을 사용한다.

<br/>

---

### 1.4 애플리케이션의 기초 개념

<br/>

 애플리케이션을 작성하는데 필수적인 개념들에 대해 살펴본다.

<br/>

#### | 애플리케이션 컴포넌트 |

 안드로이드 애플리케이션은 **컴포넌트(component)**들로 구성된다. 컴포넌트는 <u>애플리케이션을 만드는 빌딩블록이며, 각 컴포넌트들은 하나의 독립된 엔티티로 존재하고, 정해진 역할을 수행한다.</u> 각 컴포넌트는 애플리케이션을 시작하는 진입점을 가질 수 있다.

<br/>

안드로이드에는 다음과 같은 4가지 타입의 컴포넌트가 있다.

- 액티비티(Activity)
  - 사용자 인터페이스 **화면**을 가지고 하나의 작업을 담당하는 컴포넌트이다.
  - 하나의 애플리케이션은 여러 개의 액티비티를 가질 수 있다.
  - 하나의 화면 = 하나의 액티비티
  - 액티비티는 하나의 화면을 가지고 사용자와 상호작용하는 컴포넌트이다.
  - 모든 액티비티는 Activity라는 클래스를 상속받아서 작성된다.

<br/>

- 서비스(Service)
  - 백그라운드에서 실행되는 컴포넌트이다.
  - 오랫동안 실행되는 작업이나 원격 프로세스를 위한 작업을 할 때 사용된다.
  - 사용자 인터페이스 화면을 갖지 않는다.
    - 예를 들어서, 서비스는 배경 음악을 연주하는데 사용한다.
  - 모든 서비스는 Service 클래스를 상속받아서 작성된다.

<br/>

- 방송수신자(Broadcast receiver)
  - 방송을 받고 반응하는 컴포넌트이다.
  - 많은 방송들은 시스템에서 발생한다.
  - 즉, 화면이 꺼졌다거나 배터리 사용 가능량의 상태, 사진이 촬영되었다는 것을 알리기 위해 방송을 사용한다.
  - 불특정 다수에게 수신한다.
  - 방송 수신자는 BroadcastReceiver 클래스를 상속받아서 작성된다.

<br/>

- 콘텐트 제공자(Content provider)
  - 데이터를 관리하고 다른 애플리 케이션에 데이터를 제공하는 컴포넌트이다.
  - 데이터는 파일 시스템이나 SQLite 데이터베이스, 웹상에 저장될 수 있다.
  - 컨텐트 제공자를 통하여 다른 애플리케이션은 데이터를 쿼리하거나 변경할 수 있다.
  - 컨텐트 제공자는 ContentProvider 클래스를 상속받아서 작성된다.

<br/>

<br/>

#### 안드로이드에서는 다른 애플리케이션이 가지고 있는 컴포넌트를 사용할 수 있다.

 PC 애플리케이션은 다른 프로그램 안에 들어 있는 코드를 사용할 수 없다. 그러나 <u>안드로이드의 애플리케이션은 다른 애플리케이션의 컴포넌트들을 사용할 수 있다.</u> 안드로이드에서는 여러 개의 애플리케이션들이 특정한 컴포넌트를 공유하여서 사용하는 것이 가능하다. 

 예를 들어, 애플리케이션에서 사용자가 사진을 촬영하도록 하고 싶지만 이런 기능을 제공하려면 상당한 코딩이 필요하다. 이런 경우, 카메라 애플리케이션에 포함된 사진 촬영 기능을 사용하면 된다. 물론 이러한 기능은 컴포넌트 형태로 카메라 애플리케이션에 포함되어 있지만 이 컴포넌트를 우리의 코드에 포함시킬 필요도 없고 링크할 필요도 없다. 단순히 필요할 때마다 카메라 애플리케이션의 액티비티를 실행하면 된다.



#### 애플리케이션은 어떻게 자신이 원하는 컴포넌트를 안드로이드 안에서 찾아 실행할까?

 여기에 사용되는 것이 **인텐트(intent)**라 불리는 비동기적인 메시지이다. 애플리케이션의 의도를 적어서 안드로이드에 전달하면 안드로이드가 가장 적절한 컴포넌트를 찾아서 활성화하고 실행한다.

즉, 인텐트를 통하여 다른 애플리케이션의 컴포넌트를 활성화 시킬 수 있다.

> 화면간 연결 -> 인텐트 객체

<br/>

---

## 2. 첫 번째 앱 만들기

### 2.1 안드로이드 스튜디오에는 무엇이 있을까?

<br/>

- 안드로이드 통합 개발 환경 (IDE)
- 프로젝트를 생성할 수 있고, 액티비티 템플릿을 선택할 수 있게 한다.
- xml을 통해 레이아웃을 만드는데 xml을 화면을 보면서 만들 수 있도록 레이아웃 편집기를 제공한다.
- 다양한 테스트 도구를 제공한다.
- 디버깅을 위한 디버거, 로그를 찍어서 프로그램이 어디까지 수행되었는지 출력해주는 로그 콘솔을 제공한다.
- 가상머신인 에뮬레이터를 지원해준다.

<br/>

### 2.2 안드로이드 스튜디오 시작

<br/>

1. 첫 번째를 클릭하여 새로운 프로젝트를 생성한다.

   ![1](/Users/jo-eun-yeob/Desktop/jisulim/android/1. 첫 번째 안드로이드 앱 만들기/images/1.png)

   - 새 프로젝트 생성
   - 기존에 생성된 안드로이드 스튜디오 프로젝트 열기
   - 버전 관리
   - 프로젝트에서 빌드하지 않고도 APK를 프로파일링하고 디버그하기
   - 안드로이드 스튜디오로 프로젝트 이전
   - 적절한 코드 샘플 및 템플릿 추가하기

<br/>

2. 애플리케이션에 추가되는 액티비티 유형을 선택한다.

   ![2](/Users/jo-eun-yeob/Desktop/jisulim/android/1. 첫 번째 안드로이드 앱 만들기/images/2.png)

   [Empty Activity] 선택 : 아무것도 담겨 있지 않은 비어있는 액티비티를 선택한다.

<br/>

3. 애플리케이션 이름과 회사 도메인, 프로젝트 위치를 입력한다.

   ![3](/Users/jo-eun-yeob/Desktop/jisulim/android/1. 첫 번째 안드로이드 앱 만들기/images/3.png)

   - 애플리케이션 이름
   - 회사의 인터넷 도메인 이름
   - 프로젝트가 생성되는 폴더 지정
   - 사용할 언어 선택
   - 사용할 SDK 버전

<br/>

### 2.3 첫 번째 앱 실행하기

<br/>

 안드로이드 애플리케이션은 PC에서 안드로이드 스튜디오와 같은 도구를 이용하여 개발되고 컴파일되어 USB 케이블을 통해 실제 장치에 다운로드 되어 실행된다.